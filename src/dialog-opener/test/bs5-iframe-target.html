<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <title>dialog-opener-bs5 iframe target</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>

<body>
  <h1>iframe target</h1>
  <form method="get" action="./bs5-basic.html" class="container py-3">
    <div class="mb-3">
      <label for="first_name" class="form-label">First name</label>
      <input id="first_name" name="first_name" value="John" class="form-control" />
    </div>

    <div class="mb-3">
      <label for="last_name" class="form-label">Last name</label>
      <input id="last_name" name="last_name" value="Doe" class="form-control" />
    </div>

    <button type="submit" name="commit" value="ok" class="btn btn-primary">OK</button>
  </form>
  
  <script type="module">
    const url = new URL(window.location.href);
    const defaultData = url.searchParams.get("pwc_default");
    if (defaultData) {
      try {
        const data = JSON.parse(defaultData);
        document.querySelector("input[name=first_name]").value = data.firstName;
        document.querySelector("input[name=last_name]").value = data.lastName;
      } catch (e) {
        console.error("Failed to parse default data:", e);
      }
    }
  </script>
</body>

</html>